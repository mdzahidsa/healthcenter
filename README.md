# healthcenter
This is Git commit from Jeevan and Mohamed Zahid
# Designing the project flow
working on with API's and stored procedures.
Techonologies used for our project:
Front End: HTML 5,Bootstrap 5,Javascript
Back End:.netcore 6.0,WebAPI.
Tools :Microsoft SQL server Management Studio,Swagger,Postman.

Introduction
Modern terminology refers to developments or advancements. The topics that require the most care are now those related to speed, accuracy, dependability and efficiency.

​The owners of medical establishments will find our project HEALTHCENTER to be a significant help in running their businesses. Our proposal, which promises to meet their need for contemporary health care services.

​This project primarily focuses on the registration, appointment scheduling, and test completion results.

Existing System
​Time consuming
​Expensive
​Man power
​Stationary and miscellaneous
​Scanning through infinite registers
​Obsolete security

Proposed system
​Our project was created to address the flaws in the existing system.
​The proposed system's biggest benefit is that it will require less labor and money to operate.
​The proposed solution will drastically cut down on the tedious manual paper processing.

Technologies Used 
Visual Studio 2022 / Visual studio code
​.NET CORE 6.0 framework ,C# .,WEBAPI.
​Microsoft SQL Server Management Studio
​Store procedures 
​HTML,Bootstrap–Jquery ,Ajax 

Main Features
​Create-Created a registartion form need to fill the details like customer First name, Last name, select gender,email address,phone number,Address1,Address2,city,Postal code, after filling the details all information will be stored in database and it will dispalyed in the table. 
​Update -User can alter/update the data in registration form. For example if customer changes their  new mobile number, old nobile number should be deleted and must update the new mobile number.  
​Delete- Admin can delete the customer's data
​View- The customer can view their details in table, booking details and results can view in the from of table.
​Sorting -The data which is present in a table will be displayed in sorting format in ascending order.
​Filter-
​Validation -For every input/details that has been entering by customer that has been validated for example: some times customer will enter wrong  mobile number, in order to avoid used validation for mobile number should be between 1-9 and it must contains 9 digits of numeric. 
Search-


This project gives 4 main scenarios for the user:
1. Customer registration
2. Booking Test
3. Admin 
4. Lab

MODULE DESCRIPTION

1.	Customer registration
The customer's first name, last name, phone number, email address,address,city and postal code are entered into the customer registration  form.
2.	Booking Test 
The customer’s details are fetched by id and name. Here, the customer description is entered. The booking created date and time is auto generated by the system.
3.	Admin 
The customer’s booking is retrieved, and test date slot is allotted. The admin is also authorized to edit, delete the customers.
4.	Lab 
The Lab staff after the test is done, submits the result.

DATABASE DESIGN:
Microsoft SQL server management studio has been used to design the database system by stored procedure concept.
It consists of 3 main tables ,namely: customer table ,booking table and lab test table.

1.Customer table :
It consist of [CustomerId],[FirstName] ,[LastName], [Gender], [Address1],[Address2], [PhoneNumber] ,[EmailAddress] ,[City]  and [PostalCode].Where CustomerID is the primary key.

2. booking table :
It consist of [BookingOrderID] ,[LabTestID], [CustomerId],[Description],[TimeSlot], [Result],[IsActive], [CreatedOn],[UpdatedOn] and [DateSlot] .Where BookingOrder is the primary key.LabTestID ,CustomerId is referred as foreign keys .

3.Lab test table:
It consist of  [LabTestID],[TestName].Where LabTestID is the primary key.


System Requirements:

Operating System :windows 10 / 11
Hardware minimun :4GB
Visual Studio 2022
Visual Studio Code
Microsoft SQL Server 2019
Microsoft SQL Server Management Studio


Open Visual studio 2022
Run the project by double clicking on Health.sln which can be found in Health folder.
  
The user must configure the connection string which can be found in appsettings.json file.

  "ConnectionStrings": {
    "HealthcenterConn": "Data Source=DELL\\SQLEXPRESS;Initial Catalog=HealthCenterDB;Integrated Security=true"
  },


Open MS SQL Server Management studio copy the server’s name and paste it at Data source. This must have  ” \\”. Initial Catalog should be your Database name. In this project it is HealthCenterDB.

Create database name HealthCenterDB in the MS SQL Management studio then Run the script .sql file consisting of creation of tables and stored procedures .

USE [HealthCenterDB]
GO
/****** Object:  Table [dbo].[BookingOrders]    Script Date: 12/15/2022 1:04:10 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BookingOrders](
	[BookingOrderID] [int] IDENTITY(1,1) NOT NULL,
	[LabTestID] [int] NOT NULL,
	[CustomerId] [int] NOT NULL,
	[Description] [varchar](max) NULL,
	[TimeSlot] [time](0) NULL,
	[StatusId] [int] NOT NULL,
	[Result] [varchar](max) NULL,
	[IsActive] [bit] NULL,
	[CreatedOn] [datetime] NULL,
	[UpdatedOn] [datetime] NULL,
	[DateSlot] [date] NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Customer]    Script Date: 12/15/2022 1:04:10 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Customer](
	[CustomerId] [int] IDENTITY(1,1) NOT NULL,
	[FirstName] [nvarchar](50) NOT NULL,
	[LastName] [nvarchar](50) NULL,
	[Gender] [nvarchar](50) NOT NULL,
	[Address1] [nvarchar](100) NOT NULL,
	[Address2] [nvarchar](100) NULL,
	[PhoneNumber] [nvarchar](22) NOT NULL,
	[EmailAddress] [varchar](100) NOT NULL,
	[City] [varchar](100) NULL,
	[PostalCode] [nvarchar](100) NULL,
	[IsActive] [bit] NOT NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[LabTest]    Script Date: 12/15/2022 1:04:10 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[LabTest](
	[LabTestID] [int] IDENTITY(1,1) NOT NULL,
	[TestName] [int] NOT NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Status]    Script Date: 12/15/2022 1:04:10 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Status](
	[StatusId] [int] IDENTITY(1,1) NOT NULL,
	[StatusCode] [int] NOT NULL,
	[StatusName] [int] NOT NULL
) ON [PRIMARY]
GO
/****** Object:  StoredProcedure [dbo].[sp_Booking]    Script Date: 12/15/2022 1:04:10 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO


CREATE proc [dbo].[sp_Booking]
(
	@Mode VARCHAR(100),
	@BookingOrderID int = NULL,
	@LabTestID	int=NULL,
	@CustomerId int=NULL,
	@Description nvarchar(max) =NULL,
	@TimeSlot TIME (0) =NULL,
	@DateSlot DATE =NULL,
	@StatusId int =NULL,
	@Result nvarchar(max) =NULL,
	@IsActive bit =NULL
)
AS
BEGIN
	if @Mode='Book' begin
			insert into BookingOrders(LabTestID,CustomerId,Description, StatusId,IsActive, CreatedOn)
				values(	@LabTestID,@CustomerId,	@Description,@StatusId,1,GETDATE())	
	end
	else if @Mode='Search' begin
			Select * from BookingOrders
	end else if @Mode='AdminBook' begin
			Update BookingOrders set TimeSlot=@TimeSlot,DateSlot=@DateSlot,StatusId=@StatusId,UpdatedOn=GETDATE() where BookingOrderID= @BookingOrderID
	end else if @Mode='AdminRejected' begin
			Update BookingOrders set IsActive=0, StatusId=@StatusId where BookingOrderID= @BookingOrderID;
	end else if @Mode='LabTech' begin
			Update BookingOrders set Result=@Result,StatusId=@StatusId where BookingOrderID= @BookingOrderID
	end
END
GO
/****** Object:  StoredProcedure [dbo].[sp_customer]    Script Date: 12/15/2022 1:04:10 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[sp_customer]
(
	@Mode VARCHAR(100),
	@CustomerId int = NULL,
	@FirstName	nvarchar(50)=NULL,
	@LastName nvarchar(50)=NULL,
	@Gender nvarchar(50) =NULL,
	@Address1 nvarchar(100) =NULL,
	@Address2 nvarchar(100) =NULL,
	@PhoneNumber nvarchar(22) =NULL,
	@EmailAddress varchar(100) =NULL,
	@City varchar(100) =NULL,
	@PostalCode nvarchar(100) =NULL,
	@IsActive BIT=NULL
)
AS
BEGIN
	if @Mode='registration' begin
			insert into Customer(FirstName,LastName,Gender,Address1,Address2,PhoneNumber,EmailAddress,City,PostalCode,IsActive)
				values(	@FirstName,@LastName,@Gender,@Address1,@Address2,@PhoneNumber,@EmailAddress,@City,@PostalCode,@IsActive)
			
end else if @Mode='Edit' begin
		select * from Customer where CustomerId= @CustomerId;
end else if @Mode='search' begin
		select * from Customer
end else if @Mode='updateregistration' begin
		update Customer set FirstName= @FirstName,LastName= @LastName,Gender= @Gender,Address1= @Address1,Address2=@Address2,
				PhoneNumber=@PhoneNumber,EmailAddress=@EmailAddress,City= @City,PostalCode=@PostalCode 	
				where CustomerId= @CustomerId
end else if @Mode='delete' begin
		DELETE FROM Customer WHERE CustomerId= @CustomerId;

end else if @Mode='RegistrationActive' begin
		update Customer set IsActive= @IsActive	where CustomerId= @CustomerId;
end
		select * from Customer

END
GO






